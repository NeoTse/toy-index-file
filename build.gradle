group 'me.johntse.toy'
version '1.0-SNAPSHOT'
description 'a toy about index file'

apply plugin: 'java'

sourceCompatibility = 1.8
targetCompatibility = 1.8

compileJava.options.encoding = 'utf-8'
javadoc.options.encoding = 'utf-8'

repositories {
    mavenCentral()
}

configurations.all {
    transitive = false
}

dependencies {
    compile group: 'com.google.guava', name: 'guava', version: '28.0-jre'
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

jar {
    manifest {
        attributes 'Implemention-Title': project.name,
                'Implemention-Version': project.version,
                'Implemention-Build': new Date(),
                'Create-By': 'John Tse',
                'Description': project.description
    }
}

task copyToBin(type: Copy) {
    from configurations.runtime
    from project.libsDir
    into "lib"
}

jar.dependsOn(copyToBin)